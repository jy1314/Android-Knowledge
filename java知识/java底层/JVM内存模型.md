# JVM内存模型
程序计数器，虚拟机栈，native栈是线程私有的，堆是线程共有的。
## 堆（Heap）
堆是java虚拟机所管理的内存中**最大**的一块内存区域，也是被**各个线程共享**的内存区域，该区域的唯一目的就是**存放实例对象**，几乎所有的对象实例都在这里分配。（但不是所有的对象实例都在堆中）。

Java堆是垃圾收集器管理的主要区域，因此很多时候也被称为“GC堆”
## 方法区（Method Area）
方法区也称"永久代"，它用于存储虚拟机加载的类信息、常量、静态变量、是各个线程共享的内存区域。它是一片连续的堆空间，永久代的垃圾收集是和老年代(old generation)捆绑在一起的，因此无论谁满了，都会触发永久代和老年代的垃圾收集。

**运行时常量池**(Runtime Constant Pool)：是方法区的一部分，Class文件中除了有类的版本、字段、方法、接口等描述信息外，还有一项信息是常量池，用于存放编译器生成的各种符号引用，这部分内容将在类加载后放到方法区的运行时常量池中。

## 虚拟机栈(JVM Stack)

描述的是java方法执行的内存模型：每个方法在执行时都会创建一个栈帧，用户存储局部变量表，操作数栈，动态连接，方法出口等信息。每一个方法从调用直至完成的过程，就对应着一个栈帧在虚拟机栈中入栈到出栈的过程。

## 本地方法栈(Native Stack)

 与虚拟机栈所发挥的作用相似。它们之间的区别不过是虚拟机栈为虚拟机执行java方法，而本地方法栈为虚拟机使用到的Native方法服务。

## 程序计数器（PC Register）
是最小的一块内存区域，它的作用是当前线程所执行的字节码的行号指示器，在虚拟机的模型里，字节码解释器工作时就是通过改变这个计数器的值来选取下一条需要执行的字节码指令，分支、循环、异常处理、线程恢复等基础功能都需要依赖计数器完成。